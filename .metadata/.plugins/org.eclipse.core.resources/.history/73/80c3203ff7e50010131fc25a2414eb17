#define periph_base (0x40000000UL)
#define ahb1_periph_offset (0x00020000UL)
#define ahb1_periph_base (periph_base + ahb1_periph_offset)
//#define gpioa_offset (0x0000000UL)
#define gpioc_offset (0x800UL)

//#define gpioa_base (ahb1_periph_base+gpioa_offset)
#define gpioc_base (ahb1_periph_base+gpioc_offset)

#define rcc_offset (0x3800UL)
#define rcc_base (rcc_offset+ahb1_periph_base)

#define ahb1en_r_offset (0x30UL)
#define rcc_ahb1en_r (*(volatile unsigned int *)(ahb1en_r_offset + rcc_base))

//#define gpioaen (1U<<0)
#define gpioc_en (1U<<2)

#define mode_r_offset (0x00UL)
//#define gpioa_mode_r (*(volatile unsigned int *)(gpioa_base+gpioa_offset))
/* (1U<<10)
 * &=~(1U<<11)
 */
#define gpioc_mode_r (*(volatile unsigned int *)(gpioc_base+gpioc_offset))

#define od_r_offset (0x14UL)
//#define gpioa_od_r (*(volatile unsigned int *)(gpioa_base + od_r_offset))
#define gpioc_od_r (*(volatile unsigned int *)(gpioc_base+od_r_offset))

//#define pin5 (1U<<5)
//#define led_pin pin5
#define pin13 (1U<<13)
#define led_pin pin13

int main(void){
	/* 1. enable clock access to gpioa */
	//rcc_ahb1en_r |= gpioaen;
	rcc_ahb1en_r |=gpioc_en;
	/* 2. set pa5 as output pin */
	gpioc_mode_r |= (1U<<26);
	gpioc_mode_r &=~(1U<<27);
	while (1){
		/* 3. set pa5 high */
		gpioc_od_r ^= led_pin;
		for (int i=0; i<100000; i++){
				}
	}
}



